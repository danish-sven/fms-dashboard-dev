{"ast":null,"code":"var _jsxFileName = \"/Users/stefanhall/Documents/Employment/Zoomo/Git/repos/fms-dashboard-dev/mapbox-learn/src/Map.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport parksData from './sydney-parks.json';\nimport vehicleData from './vehicleData.json';\nimport './Map.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmapboxgl.accessToken = 'pk.eyJ1Ijoic3RlZmFuZHMiLCJhIjoiY2xpbDhieGVsMDJ6cDNkcnRlZHd1Mm9oMCJ9.e2hVvAkDhSwaGmT9jCl83w';\nexport default function App() {\n  _s();\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  const [popup, setPopup] = useState(null);\n  const minLat = Math.min(...vehicleData.map(data => data.lat));\n  const maxLat = Math.max(...vehicleData.map(data => data.lat));\n  const minLon = Math.min(...vehicleData.map(data => data.lon));\n  const maxLon = Math.max(...vehicleData.map(data => data.lon));\n  const boundingBox = [[minLon, minLat], [maxLon, maxLat]];\n  useEffect(() => {\n    if (map.current) return;\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v12'\n    });\n    map.current.on('load', () => {\n      map.current.fitBounds(boundingBox, {\n        padding: 20\n      });\n      map.current.addImage('custom-marker', 'https://docs.mapbox.com/mapbox-gl-js/assets/custom_marker.png', {\n        sdf: 'true'\n      });\n      map.current.addImage('park-marker', 'https://i.imgur.com/MK4NUzI.png', {\n        sdf: 'true'\n      });\n      parksData.features.forEach(park => {\n        const parkEl = document.createElement('div');\n        parkEl.className = 'park-marker';\n        const parkPopup = new mapboxgl.Popup({\n          offset: 25\n        }).setHTML(`\n          <h3>${park.properties.title}</h3>\n          <p>${park.properties.description}</p>\n        `);\n        new mapboxgl.Marker(parkEl).setLngLat(park.geometry.coordinates).setPopup(parkPopup).addTo(map.current);\n        parkEl.addEventListener('mouseenter', () => parkPopup.addTo(map.current));\n        parkEl.addEventListener('mouseleave', () => parkPopup.remove());\n      });\n      vehicleData.forEach(vehicle => {\n        var el = document.createElement('div');\n        el.className = 'marker ' + vehicle.status;\n        const vehiclePopup = new mapboxgl.Popup({\n          offset: 25\n        }).setHTML(`\n          <h3>${vehicle.ZID}</h3>\n          <p>Status: ${vehicle.status}</p>\n          <p>Home: ${vehicle.home}</p>\n        `);\n        var marker = new mapboxgl.Marker(el).setLngLat([vehicle.lon, vehicle.lat]).setPopup(vehiclePopup).addTo(map.current);\n        el.addEventListener('mouseenter', () => vehiclePopup.addTo(map.current));\n        el.addEventListener('mouseleave', () => {\n          if (popup !== vehiclePopup) {\n            vehiclePopup.remove();\n          }\n        });\n        el.addEventListener('click', () => {\n          if (popup) {\n            popup.remove();\n          }\n          setPopup(vehiclePopup);\n        });\n      });\n    });\n    return () => map.current.remove();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapContainer,\n      className: \"map-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"lTVGjOxmakqjbMq29oTwstayFxk=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useEffect","useState","mapboxgl","parksData","vehicleData","jsxDEV","_jsxDEV","accessToken","App","_s","mapContainer","map","popup","setPopup","minLat","Math","min","data","lat","maxLat","max","minLon","lon","maxLon","boundingBox","current","Map","container","style","on","fitBounds","padding","addImage","sdf","features","forEach","park","parkEl","document","createElement","className","parkPopup","Popup","offset","setHTML","properties","title","description","Marker","setLngLat","geometry","coordinates","addTo","addEventListener","remove","vehicle","el","status","vehiclePopup","ZID","home","marker","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/stefanhall/Documents/Employment/Zoomo/Git/repos/fms-dashboard-dev/mapbox-learn/src/Map.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\n\nimport parksData from './sydney-parks.json';\nimport vehicleData from './vehicleData.json';\n\nimport './Map.css';\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoic3RlZmFuZHMiLCJhIjoiY2xpbDhieGVsMDJ6cDNkcnRlZHd1Mm9oMCJ9.e2hVvAkDhSwaGmT9jCl83w';\n\nexport default function App() {\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n\n  const [popup, setPopup] = useState(null);\n\n  const minLat = Math.min(...vehicleData.map(data => data.lat));\n  const maxLat = Math.max(...vehicleData.map(data => data.lat));\n  const minLon = Math.min(...vehicleData.map(data => data.lon));\n  const maxLon = Math.max(...vehicleData.map(data => data.lon));\n\n  const boundingBox = [[minLon, minLat], [maxLon, maxLat]];\n\n  useEffect(() => {\n    if (map.current) return;\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v12'\n    });\n\n    map.current.on('load', () => {\n      map.current.fitBounds(boundingBox, { padding: 20 });\n\n      map.current.addImage(\n        'custom-marker',\n        'https://docs.mapbox.com/mapbox-gl-js/assets/custom_marker.png',\n        { sdf: 'true' }\n      );\n\n      map.current.addImage(\n        'park-marker',\n        'https://i.imgur.com/MK4NUzI.png',\n        { sdf: 'true' }\n      );\n\n      parksData.features.forEach((park) => {\n        const parkEl = document.createElement('div');\n        parkEl.className = 'park-marker';\n\n        const parkPopup = new mapboxgl.Popup({ offset: 25 })\n          .setHTML(`\n          <h3>${park.properties.title}</h3>\n          <p>${park.properties.description}</p>\n        `);\n\n        new mapboxgl.Marker(parkEl)\n          .setLngLat(park.geometry.coordinates)\n          .setPopup(parkPopup)\n          .addTo(map.current);\n        \n        parkEl.addEventListener('mouseenter', () => parkPopup.addTo(map.current));\n        parkEl.addEventListener('mouseleave', () => parkPopup.remove());\n      });\n\n      vehicleData.forEach(vehicle => {\n        var el = document.createElement('div');\n        el.className = 'marker ' + vehicle.status;\n\n        const vehiclePopup = new mapboxgl.Popup({ offset: 25 })\n          .setHTML(`\n          <h3>${vehicle.ZID}</h3>\n          <p>Status: ${vehicle.status}</p>\n          <p>Home: ${vehicle.home}</p>\n        `);\n\n        var marker = new mapboxgl.Marker(el)\n          .setLngLat([vehicle.lon, vehicle.lat])\n          .setPopup(vehiclePopup)\n          .addTo(map.current);\n\n        el.addEventListener('mouseenter', () => vehiclePopup.addTo(map.current));\n        el.addEventListener('mouseleave', () => {\n          if (popup !== vehiclePopup) {\n            vehiclePopup.remove();\n          }\n        });\n        el.addEventListener('click', () => {\n          if (popup) {\n            popup.remove();\n          }\n          setPopup(vehiclePopup);\n        });\n      });\n    });\n\n    return () => map.current.remove();\n  }, []);\n\n  return (\n    <div>\n      <div ref={mapContainer} className=\"map-container\" />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}