{"ast":null,"code":"var _jsxFileName = \"/Users/stefanhall/Documents/Employment/Zoomo/Git/repos/fms-dashboard-dev/mapbox-learn/src/Map.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport parksData from './sydney-parks.json';\nimport vehicleData from './vehicleData.json';\nimport './Map.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmapboxgl.accessToken = 'pk.eyJ1Ijoic3RlZmFuZHMiLCJhIjoiY2xpbDhieGVsMDJ6cDNkcnRlZHd1Mm9oMCJ9.e2hVvAkDhSwaGmT9jCl83w';\nexport default function App() {\n  _s();\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  const [popup, setPopup] = useState(null);\n  const minLat = Math.min(...vehicleData.map(data => data.lat));\n  const maxLat = Math.max(...vehicleData.map(data => data.lat));\n  const minLon = Math.min(...vehicleData.map(data => data.lon));\n  const maxLon = Math.max(...vehicleData.map(data => data.lon));\n  const boundingBox = [[minLon, minLat], [maxLon, maxLat]];\n  useEffect(() => {\n    if (map.current) return;\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v12'\n    });\n    map.current.on('load', () => {\n      map.current.fitBounds(boundingBox, {\n        padding: 20\n      });\n      parksData.features.forEach(park => {\n        const parkEl = document.createElement('div');\n        parkEl.className = 'marker';\n        const parkPopup = new mapboxgl.Popup({\n          offset: 25\n        }).setHTML(`\n            <h3>${park.properties.title}</h3>\n            <p>${park.properties.description}</p>\n          `);\n        new mapboxgl.Marker().setLngLat(park.geometry.coordinates).setPopup(parkPopup).addTo(map.current);\n        parkEl.addEventListener('mouseenter', () => parkPopup.addTo(map.current));\n        parkEl.addEventListener('mouseleave', () => parkPopup.remove());\n      });\n      vehicleData.forEach(vehicle => {\n        var el = document.createElement('div');\n        el.className = 'marker ' + vehicle.status;\n        const vehiclePopup = new mapboxgl.Popup({\n          offset: 25\n        }).setHTML(`\n            <h3>${vehicle.ZID}</h3>\n            <p>Status: ${vehicle.status}</p>\n            <p>Home: ${vehicle.home}</p>\n          `);\n        var marker = new mapboxgl.Marker(el).setLngLat([vehicle.lon, vehicle.lat]).setPopup(vehiclePopup).addTo(map.current);\n        el.addEventListener('mouseenter', () => vehiclePopup.addTo(map.current));\n        el.addEventListener('mouseleave', () => {\n          if (popup !== vehiclePopup) {\n            vehiclePopup.remove();\n          }\n        });\n        el.addEventListener('click', () => {\n          if (popup) {\n            popup.remove();\n          }\n          setPopup(vehiclePopup);\n        });\n      });\n    });\n    return () => map.current.remove();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapContainer,\n      className: \"map-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"lTVGjOxmakqjbMq29oTwstayFxk=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useEffect","useState","mapboxgl","parksData","vehicleData","jsxDEV","_jsxDEV","accessToken","App","_s","mapContainer","map","popup","setPopup","minLat","Math","min","data","lat","maxLat","max","minLon","lon","maxLon","boundingBox","current","Map","container","style","on","fitBounds","padding","features","forEach","park","parkEl","document","createElement","className","parkPopup","Popup","offset","setHTML","properties","title","description","Marker","setLngLat","geometry","coordinates","addTo","addEventListener","remove","vehicle","el","status","vehiclePopup","ZID","home","marker","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/stefanhall/Documents/Employment/Zoomo/Git/repos/fms-dashboard-dev/mapbox-learn/src/Map.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\n\nimport parksData from './sydney-parks.json';\nimport vehicleData from './vehicleData.json';\n\nimport './Map.css';\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoic3RlZmFuZHMiLCJhIjoiY2xpbDhieGVsMDJ6cDNkcnRlZHd1Mm9oMCJ9.e2hVvAkDhSwaGmT9jCl83w';\n\nexport default function App() {\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n\n  const [popup, setPopup] = useState(null);\n\n  const minLat = Math.min(...vehicleData.map(data => data.lat));\n  const maxLat = Math.max(...vehicleData.map(data => data.lat));\n  const minLon = Math.min(...vehicleData.map(data => data.lon));\n  const maxLon = Math.max(...vehicleData.map(data => data.lon));\n\n  const boundingBox = [[minLon, minLat], [maxLon, maxLat]];\n\n  useEffect(() => {\n    if (map.current) return;\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v12'\n    });\n\n    map.current.on('load', () => {\n      map.current.fitBounds(boundingBox, { padding: 20 });\n\n      parksData.features.forEach((park) => {\n        const parkEl = document.createElement('div');\n        parkEl.className = 'marker';\n\n        const parkPopup = new mapboxgl.Popup({ offset: 25 })\n          .setHTML(`\n            <h3>${park.properties.title}</h3>\n            <p>${park.properties.description}</p>\n          `);\n\n        new mapboxgl.Marker()\n          .setLngLat(park.geometry.coordinates)\n          .setPopup(parkPopup)\n          .addTo(map.current);\n        \n        parkEl.addEventListener('mouseenter', () => parkPopup.addTo(map.current));\n        parkEl.addEventListener('mouseleave', () => parkPopup.remove());\n      });\n\n      vehicleData.forEach(vehicle => {\n        var el = document.createElement('div');\n        el.className = 'marker ' + vehicle.status;\n\n        const vehiclePopup = new mapboxgl.Popup({ offset: 25 })\n          .setHTML(`\n            <h3>${vehicle.ZID}</h3>\n            <p>Status: ${vehicle.status}</p>\n            <p>Home: ${vehicle.home}</p>\n          `);\n\n        var marker = new mapboxgl.Marker(el)\n          .setLngLat([vehicle.lon, vehicle.lat])\n          .setPopup(vehiclePopup)\n          .addTo(map.current);\n\n        el.addEventListener('mouseenter', () => vehiclePopup.addTo(map.current));\n        el.addEventListener('mouseleave', () => {\n          if (popup !== vehiclePopup) {\n            vehiclePopup.remove();\n          }\n        });\n        el.addEventListener('click', () => {\n          if (popup) {\n            popup.remove();\n          }\n          setPopup(vehiclePopup);\n        });\n      });\n    });\n\n    return () => map.current.remove();\n  }, []);\n\n  return (\n    <div>\n      <div ref={mapContainer} className=\"map-container\" />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}